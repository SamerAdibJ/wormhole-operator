<div class="row">
  <div class="col-12">
    <div class="card-wrapper">
      <mat-accordion *ngIf="request && !onTrip && alienRequest">

        <mat-expansion-panel>

          <mat-expansion-panel-header>
            <mat-panel-title>
              <div class="d-flex align-items-center justify-content-between w-100">
                <div>Trip Details</div>
                <div [ngStyle]="tripDetails.waitingTime>30? {color: 'red', borderColor: 'white'} : {color: '#76b484'}">
                  Delay -{{tripDetails.waitingTime}} Es</div>
              </div>
            </mat-panel-title>
          </mat-expansion-panel-header>

          <mat-list>
            <mat-list-item>
              <div mat-line>Cost:</div>
              <div mat-line>{{tripDetails.cost}} A</div>
            </mat-list-item>
            <mat-list-item>
              <div mat-line>Waiting Time:</div>
              <div mat-line>{{tripDetails.waitingTime}} Es.</div>
            </mat-list-item>
            <mat-list-item>
              <div mat-line>Total duration:</div>
              <div mat-line>{{tripDetails.totalDuration}} Es.</div>
            </mat-list-item>
            <mat-list-item>
              <div mat-line>Total distance:</div>
              <div mat-line>{{tripDetails.totalDistance}} Wh.</div>
            </mat-list-item>
          </mat-list>

        </mat-expansion-panel>

      </mat-accordion>

      <div *ngIf="request && !onTrip && alienRequest" class="connection-panel">
        <mat-icon
          class="tooltip-button"
          matTooltip="Assign to {{traveler.name | titlecase}}"
          (click)="accept()">fast_rewind</mat-icon>
        <mat-progress-bar mode="query" color="primary"></mat-progress-bar>
      </div>

      <mat-accordion [ngStyle]="onTrip? {color: 'white', borderColor: 'white', backgroundColor: 'green'} : {}">

        <mat-expansion-panel collapsedHeight="40">

          <mat-expansion-panel-header>
            <mat-panel-title [ngStyle]="{'color':onTrip ? 'white':''}">
              {{traveler.name | titlecase}}
            </mat-panel-title>
            <mat-panel-title *ngIf="onTrip" [ngStyle]="{'color':onTrip ? '#76b484':''}">
              <span>Connecting alien in </span>
              <span [ngStyle]="{'font-weight': true ?'bold ':''}">
                 ... {{timeLeft}} Es
              </span>
            </mat-panel-title>
          </mat-expansion-panel-header>

          <mat-list>

            <mat-list-item>
              <div mat-line>ID:</div>
              <div mat-line>{{traveler.id}}</div>
            </mat-list-item>

            <mat-list-item>
              <div mat-line>Current Position:</div>
              <div mat-line>{{traveler.currentPosition}}<a> Wh.</a></div>
            </mat-list-item>

            <mat-list-item>
              <div mat-line>Completed Trips:</div>
              <div mat-line>0</div>
            </mat-list-item>

          </mat-list>

        </mat-expansion-panel>

      </mat-accordion>
    </div>
  </div>
</div>
